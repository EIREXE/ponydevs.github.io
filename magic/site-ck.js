// Ze Javascripts.
// -> No coffee here, but before you start reading further,
//    I recommend that you try this:
function handleScroll(){scrollTimer=null;$(".browser").toggleClass("code",$(document).offsetTop>200);$("section").each(function(e,t){var t=$(t);if($(this).offset().top<$(window).scrollTop()+$(window).height()-200&&t.visible(!0)){t.addClass("visible");$(this).find("iframe").not(".loaded").prop("src",function(){$(this).addClass("loaded");return $(this).data("src")})}else $(this).hasClass("onceler")||t.removeClass("visible")});$("#unicorn .browser").each(function(e,t){var t=$(t);$(this).offset().top<$(window).scrollTop()+$(window).height()-300&&t.visible(!0)&&t.addClass("visible")});$(".animate, #event article, #more article, #science article, #lab article, #film article").each(function(e,t){var t=$(t);$(this).offset().top<$(window).scrollTop()+$(window).height()-178&&t.visible(!0)&&t.addClass("visible")})}function launch(e){var t=document.getElementById(e);t.style.display="block";t.classList.remove("hidden");setTimeout(function(){t.classList.add("visible")},10);setTimeout(function(){t.classList.add("entry")},50);setTimeout(function(){t.classList.add("entry")},50)}function hide(e){var t=document.getElementById(e);t.classList.remove("visible");t.classList.add("hidden");t.style.display="none"}function blast(e){var t=document.getElementById(e);t.classList.remove("visible");t.classList.add("hidden");setTimeout(function(){t.style.display="none"},500)}console.log("Hello there! Have you tried the Konami code yet?");document.createElement("modal");document.createElement("window");document.createElement("banner");document.createElement("section");document.createElement("header");document.createElement("footer");document.createElement("figure");document.createElement("menu");document.createElement("tooltip");document.createElement("article");(function(e){e.fn.visible=function(t){var n=e(this),r=e(window),i=r.scrollTop(),s=i+r.height(),o=n.offset().top,u=o+n.height(),a=t===!0?u:o,f=t===!0?o:u;return f<=s&&a>=i}})(jQuery);var scrollTimer=null;$(window).scroll(function(){scrollTimer&&clearTimeout(scrollTimer);scrollTimer=setTimeout(handleScroll,100)});$(function(){$('[data-view="mobile"]').change(function(){$("html").toggleClass("mobile",this.checked);$("body").toggleClass("mobile",this.checked)}).change()});$(function(){$('[data-view="1984"]').change(function(){$("body").toggleClass("reset",this.checked)}).change()});var labelID;$("label").click(function(){labelID=$(this).attr("for");$("#"+labelID).trigger("click")});$(document).ready(function(){$('[data-toggle^="menu"]').click(function(){$("body").toggleClass("menu-expanded");$("menu").toggleClass("expanded");$("menu").toggleClass("collapsed")});$("a.assist").click(function(){$("menu#assist").toggle("slow")})});$(document).on("click",'menu.expanded a[href^="#"]',function(){$("body").toggleClass("menu-expanded");$("menu").toggleClass("expanded");$("menu").toggleClass("collapsed")});$(document).ready(function(){if($("menu").height()<470){$("menu").addClass("tiny");$("#top").addClass("tiny")}else{$("menu").removeClass("tiny");$("#top").removeClass("tiny")}});$(window).resize(function(){$("menu").height()<470?$("menu").addClass("tiny"):$("menu").removeClass("tiny")});$(document).ready(function(){var e=["Almond","Apricot","Puffy","Asparagus","Bittersweet","Blizzard","Cadet","Carnation","Chartreuse","Chestnut","Snow"],t=e[Math.floor(Math.random()*e.length)];document.querySelector("span.firstname").textContent=t;var n=["Filly","the Great","Mousestrap","Steakfries","Cookies","Sparkle","Dash","Sunshine","Whooves","Starlight"],r=n[Math.floor(Math.random()*n.length)];document.querySelector("span.lastname").textContent=r;document.getElementById("google").setAttribute("href","http://lmgtfy.com/?q="+r)});$(document).on("click",'a[href^="#"]',function(e){e.preventDefault();var t=this.hash,n=$(t);$("html, body").stop().animate({scrollTop:n.offset().top},800,"swing",function(){window.location.hash=t})});$(document).on("click",".skyward",function(){$("body").addClass("space");setTimeout(function(){var e="top",t=$("#top");$("html, body").stop().animate({scrollTop:t.offset().top},3e3,"swing",function(){window.location.hash=e})},1e3);setTimeout(function(){$("body").removeClass("space")},4e3)});var originalTitle=document.title;$(window).focus(function(){document.title=originalTitle}).blur(function(){document.title="Nuuuuu! â™¥ Come back! "});var Konami=function(e){var t={addEvent:function(e,t,n,r){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent){e["e"+t+n]=n;e[t+n]=function(){e["e"+t+n](window.event,r)};e.attachEvent("on"+t,e[t+n])}},input:"",pattern:"38384040373937396665",load:function(e){this.addEvent(document,"keydown",function(n,r){r&&(t=r);t.input+=n?n.keyCode:event.keyCode;t.input.length>t.pattern.length&&(t.input=t.input.substr(t.input.length-t.pattern.length));if(t.input==t.pattern){t.code(e);t.input="";n.preventDefault();return!1}},this);this.iphone.load(e)},code:function(e){window.location=e},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],code:function(e){t.code(e)},load:function(e){this.orig_keys=this.keys;t.addEvent(document,"touchmove",function(e){if(e.touches.length==1&&t.iphone.capture==1){var n=e.touches[0];t.iphone.stop_x=n.pageX;t.iphone.stop_y=n.pageY;t.iphone.tap=!1;t.iphone.capture=!1;t.iphone.check_direction()}});t.addEvent(document,"touchend",function(n){t.iphone.tap==1&&t.iphone.check_direction(e)},!1);t.addEvent(document,"touchstart",function(e){t.iphone.start_x=e.changedTouches[0].pageX;t.iphone.start_y=e.changedTouches[0].pageY;t.iphone.tap=!0;t.iphone.capture=!0})},check_direction:function(e){x_magnitude=Math.abs(this.start_x-this.stop_x);y_magnitude=Math.abs(this.start_y-this.stop_y);x=this.start_x-this.stop_x<0?"RIGHT":"LEFT";y=this.start_y-this.stop_y<0?"DOWN":"UP";result=x_magnitude>y_magnitude?x:y;result=this.tap==1?"TAP":result;result==this.keys[0]&&(this.keys=this.keys.slice(1,this.keys.length));if(this.keys.length==0){this.keys=this.orig_keys;this.code(e)}}}};typeof e=="string"&&t.load(e);if(typeof e=="function"){t.code=e;t.load()}return t},easter_egg=new Konami;easter_egg.code=function(){(function(){function e(){var e=document.createElement("link");e.setAttribute("type","text/css");e.setAttribute("rel","stylesheet");e.setAttribute("href",S);e.setAttribute("class",x);document.body.appendChild(e)}function t(){var e=document.getElementsByClassName(x);for(var t=0;t<e.length;t++)document.body.removeChild(e[t])}function n(){var e=document.createElement("div");e.setAttribute("class",E);document.body.appendChild(e);setTimeout(function(){document.body.removeChild(e)},100)}function r(e){return{height:e.offsetHeight,width:e.offsetWidth}}function i(e){var t=r(e);return t.height>p&&t.height<v&&t.width>d&&t.width<m}function s(e){var t=e,n=0;while(!!t){n+=t.offsetTop;t=t.offsetParent}return n}function o(){var e=document.documentElement;return window.innerWidth?window.innerHeight:e&&!isNaN(e.clientHeight)?e.clientHeight:0}function u(){return window.pageYOffset?window.pageYOffset:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}function a(e){var t=s(e);return t>=N&&t<=T+N}function f(){var e=document.createElement("audio");e.setAttribute("class",x);e.src=g;e.loop=!1;e.addEventListener("canplay",function(){setTimeout(function(){l(k)},500);setTimeout(function(){h();n();for(var e=0;e<O.length;e++)c(O[e])},15500)},!0);e.addEventListener("ended",function(){h();t()},!0);e.innerHTML=" <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";document.body.appendChild(e);e.play()}function l(e){e.className+=" "+y+" "+b}function c(e){e.className+=" "+y+" "+w[Math.floor(Math.random()*w.length)]}function h(){var e=document.getElementsByClassName(y),t=new RegExp("\\b"+y+"\\b");for(var n=0;n<e.length;)e[n].className=e[n].className.replace(t,"")}var p=30,d=30,v=350,m=350,g="//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3",y="mw-harlem_shake_me",b="im_first",w=["im_drunk","im_baked","im_trippin","im_blown"],E="mw-strobe_light",S="//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css",x="mw_added_css",T=o(),N=u(),C=document.getElementsByTagName("*"),k=null;for(var L=0;L<C.length;L++){var A=C[L];if(i(A)&&a(A)){k=A;break}}if(A===null){console.warn("Could not find a node of the right size. Please try a different page.");return}e();f();var O=[];for(var L=0;L<C.length;L++){var A=C[L];i(A)&&O.push(A)}})()};easter_egg.load();(function(e,t,n){function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function i(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);e.shiftKey||(t=t.toLowerCase());return t}return d[e.which]?d[e.which]:v[e.which]?v[e.which]:String.fromCharCode(e.which).toLowerCase()}function s(e){e=e||{};var t=!1,n;for(n in E)e[n]?t=!0:E[n]=0;t||(N=!1)}function o(e,t,n,r,i,s){var o,u,a=[],f=n.type;if(!b[e])return[];"keyup"==f&&l(e)&&(t=[e]);for(o=0;o<b[e].length;++o)if(u=b[e][o],!(!r&&u.seq&&E[u.seq]!=u.level||f!=u.action||("keypress"!=f||n.metaKey||n.ctrlKey)&&t.sort().join(",")!==u.modifiers.sort().join(","))){var c=r&&u.seq==r&&u.level==s;(!r&&u.combo==i||c)&&b[e].splice(o,1);a.push(u)}return a}function u(e){var t=[];e.shiftKey&&t.push("shift");e.altKey&&t.push("alt");e.ctrlKey&&t.push("ctrl");e.metaKey&&t.push("meta");return t}function a(e,t,n,r){C.stopCallback(t,t.target||t.srcElement,n,r)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=i(e);t&&("keyup"==e.type&&x===t?x=!1:C.handleKey(t,u(e),e))}function l(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function c(e,t,n,r){function o(t){return function(){N=t;++E[e];clearTimeout(S);S=setTimeout(s,1e3)}}function u(t){a(n,t,e);"keyup"!==r&&(x=i(t));setTimeout(s,10)}for(var f=E[e]=0;f<t.length;++f){var l=f+1===t.length?u:o(r||h(t[f+1]).action);p(t[f],l,r,e,f)}}function h(e,t){var n,r,i,s=[];n="+"===e?["+"]:e.split("+");for(i=0;i<n.length;++i)r=n[i],g[r]&&(r=g[r]),t&&"keypress"!=t&&m[r]&&(r=m[r],s.push("shift")),l(r)&&s.push(r);n=r;i=t;if(!i){if(!y){y={};for(var o in d)95<o&&112>o||d.hasOwnProperty(o)&&(y[d[o]]=o)}i=y[n]?"keydown":"keypress"}"keypress"==i&&s.length&&(i="keydown");return{key:r,modifiers:s,action:i}}function p(e,t,n,r,i){w[e+":"+n]=t;e=e.replace(/\s+/g," ");var s=e.split(" ");1<s.length?c(e,s,t,n):(n=h(e,n),b[n.key]=b[n.key]||[],o(n.key,n.modifiers,{type:n.action},r,e,i),b[n.key][r?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:r,level:i,combo:e}))}var d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},v={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},g={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},y,b={},w={},E={},S,x=!1,T=!1,N=!1;for(n=1;20>n;++n)d[111+n]="f"+n;for(n=0;9>=n;++n)d[n+96]=n;r(t,"keypress",f);r(t,"keydown",f);r(t,"keyup",f);var C={bind:function(e,t,n){e=e instanceof Array?e:[e];for(var r=0;r<e.length;++r)p(e[r],t,n);return this},unbind:function(e,t){return C.bind(e,function(){},t)},trigger:function(e,t){w[e+":"+t]&&w[e+":"+t]({},e);return this},reset:function(){b={};w={};return this},stopCallback:function(e,t){return-1<(" "+t.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},handleKey:function(e,t,n){var r=o(e,t,n),i;t={};var u=0,f=!1;for(i=0;i<r.length;++i)r[i].seq&&(u=Math.max(u,r[i].level));for(i=0;i<r.length;++i)r[i].seq?r[i].level==u&&(f=!0,t[r[i].seq]=1,a(r[i].callback,n,r[i].combo,r[i].seq)):f||a(r[i].callback,n,r[i].combo);r="keypress"==n.type&&T;n.type!=N||l(e)||r||s(t);T=f&&"keydown"==n.type}};e.Mousetrap=C;"function"==typeof define&&define.amd&&define(C)})(window,document);Mousetrap.bind("shift shift shift shift shift",function(){alert("Turning on Sticky Keys, eh?")});(function(e,t,n){"use strict";function r(n){if(i=t.documentElement,s=t.body,W(),ot=this,n=n||{},ct=n.constants||{},n.easing)for(var r in n.easing)$[r]=n.easing[r];yt=n.edgeStrategy||"set",ft={beforerender:n.beforerender,render:n.render},lt=n.forceHeight!==!1,lt&&(Pt=n.scale||1),ht=n.mobileDeceleration||T,dt=n.smoothScrolling!==!1,vt=n.smoothScrollingDuration||N,mt={targetTop:ot.getScrollTop()},Ut=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),Ut?(at=t.getElementById("skrollr-body"),at&&st(),J(),Lt(i,[y,E],[b])):Lt(i,[y,w],[b]),ot.refresh(),Et(e,"resize orientationchange",function(){var e=i.clientWidth,t=i.clientHeight;(t!==It||e!==Ft)&&(It=t,Ft=e,qt=!0)});var o=X();return function u(){G(),wt=o(u)}(),ot}var i,s,o=e.skrollr={get:function(){return ot},init:function(e){return ot||new r(e)},VERSION:"0.6.20"},u=Object.prototype.hasOwnProperty,a=e.Math,f=e.getComputedStyle,l="touchstart",c="touchmove",h="touchcancel",p="touchend",d="skrollable",v=d+"-before",m=d+"-between",g=d+"-after",y="skrollr",b="no-"+y,w=y+"-desktop",E=y+"-mobile",S="linear",x=1e3,T=.004,N=200,C="start",k="end",L="center",A="bottom",O="___skrollable_id",M=/^(?:input|textarea|button|select)$/i,_=/^\s+|\s+$/g,D=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,P=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,H=/^([a-z\-]+)\[(\w+)\]$/,B=/-([a-z])/g,j=function(e,t){return t.toUpperCase()},F=/[\-+]?[\d]*\.?[\d]+/g,I=/\{\?\}/g,q=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,R=/[a-z\-]+-gradient/g,U="",z="",W=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(f){var t=f(s,null);for(var r in t)if(U=r.match(e)||+r==r&&t[r].match(e))break;if(!U)return U=z="",n;U=U[0],"-"===U.slice(0,1)?(z=U,U={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[U]):z="-"+U.toLowerCase()+"-"}},X=function(){var t=e.requestAnimationFrame||e[U.toLowerCase()+"RequestAnimationFrame"],n=Mt();return(Ut||!t)&&(t=function(t){var r=Mt()-n,i=a.max(0,1e3/60-r);return e.setTimeout(function(){n=Mt(),t()},i)}),t},V=function(){var t=e.cancelAnimationFrame||e[U.toLowerCase()+"CancelAnimationFrame"];return(Ut||!t)&&(t=function(t){return e.clearTimeout(t)}),t},$={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-a.cos(e*a.PI)/2+.5},sqrt:function(e){return a.sqrt(e)},outCubic:function(e){return a.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-a.abs(3*a.cos(1.028*e*t)/t)}};r.prototype.refresh=function(e){var r,i,s=!1;for(e===n?(s=!0,ut=[],Rt=0,e=t.getElementsByTagName("*")):e=[].concat(e),r=0,i=e.length;i>r;r++){var o=e[r],u=o,a=[],f=dt,l=yt;if(o.attributes){for(var c=0,h=o.attributes.length;h>c;c++){var p=o.attributes[c];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name){var v=p.name.match(D);if(null!==v){var m={props:p.value,element:o};a.push(m);var g=v[1];g&&(m.constant=g.substr(1));var y=v[2];/p$/.test(y)?(m.isPercentage=!0,m.offset=(0|y.slice(0,-1))/100):m.offset=0|y;var b=v[3],w=v[4]||b;b&&b!==C&&b!==k?(m.mode="relative",m.anchors=[b,w]):(m.mode="absolute",b===k?m.isEnd=!0:m.isPercentage||(m.offset=m.offset*Pt))}}else l=p.value;else f="off"!==p.value;else if(u=t.querySelector(p.value),null===u)throw'Unable to find anchor target "'+p.value+'"'}if(a.length){var E,S,x;!s&&O in o?(x=o[O],E=ut[x].styleAttr,S=ut[x].classAttr):(x=o[O]=Rt++,E=o.style.cssText,S=kt(o)),ut[x]={element:o,styleAttr:E,classAttr:S,anchorTarget:u,keyFrames:a,smoothScrolling:f,edgeStrategy:l},Lt(o,[d],[])}}}for(Tt(),r=0,i=e.length;i>r;r++){var T=ut[e[r][O]];T!==n&&(Y(T),et(T))}return ot},r.prototype.relativeToAbsolute=function(e,t,n){var r=i.clientHeight,s=e.getBoundingClientRect(),o=s.top,u=s.bottom-s.top;return t===A?o-=r:t===L&&(o-=r/2),n===A?o+=u:n===L&&(o+=u/2),o+=ot.getScrollTop(),0|o+.5},r.prototype.animateTo=function(e,t){t=t||{};var r=Mt(),i=ot.getScrollTop();return pt={startTop:i,topDiff:e-i,targetTop:e,duration:t.duration||x,startTime:r,endTime:r+(t.duration||x),easing:$[t.easing||S],done:t.done},pt.topDiff||(pt.done&&pt.done.call(ot,!1),pt=n),ot},r.prototype.stopAnimateTo=function(){pt&&pt.done&&pt.done.call(ot,!0),pt=n},r.prototype.isAnimatingTo=function(){return!!pt},r.prototype.setScrollTop=function(t,n){return gt=n===!0,Ut?zt=a.min(a.max(t,0),Dt):e.scrollTo(0,t),ot},r.prototype.getScrollTop=function(){return Ut?zt:e.pageYOffset||i.scrollTop||s.scrollTop||0},r.prototype.getMaxScrollTop=function(){return Dt},r.prototype.on=function(e,t){return ft[e]=t,ot},r.prototype.off=function(e){return delete ft[e],ot},r.prototype.destroy=function(){var e=V();e(wt),xt(),Lt(i,[b],[y,w,E]);for(var t=0,r=ut.length;r>t;t++)it(ut[t].element);i.style.overflow=s.style.overflow="auto",i.style.height=s.style.height="auto",at&&o.setStyle(at,"transform","none"),ot=n,at=n,ft=n,lt=n,Dt=0,Pt=1,ct=n,ht=n,Ht="down",Bt=-1,Ft=0,It=0,qt=!1,pt=n,dt=n,vt=n,mt=n,gt=n,Rt=0,yt=n,Ut=!1,zt=0,bt=n};var J=function(){var r,o,u,f,d,v,m,g,y,b,w,E;Et(i,[l,c,h,p].join(" "),function(e){var i=e.changedTouches[0];for(f=e.target;3===f.nodeType;)f=f.parentNode;switch(d=i.clientY,v=i.clientX,b=e.timeStamp,M.test(f.tagName)||e.preventDefault(),e.type){case l:r&&r.blur(),ot.stopAnimateTo(),r=f,o=m=d,u=v,y=b;break;case c:M.test(f.tagName)&&t.activeElement!==f&&e.preventDefault(),g=d-m,E=b-w,ot.setScrollTop(zt-g,!0),m=d,w=b;break;default:case h:case p:var s=o-d,S=u-v,x=S*S+s*s;if(49>x){if(!M.test(r.tagName)){r.focus();var T=t.createEvent("MouseEvents");T.initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),r.dispatchEvent(T)}return}r=n;var N=g/E;N=a.max(a.min(N,3),-3);var C=a.abs(N/ht),k=N*C+.5*ht*C*C,L=ot.getScrollTop()-k,A=0;L>Dt?(A=(Dt-L)/k,L=Dt):0>L&&(A=-L/k,L=0),C*=1-A,ot.animateTo(0|L+.5,{easing:"outCubic",duration:C})}}),e.scrollTo(0,0),i.style.overflow=s.style.overflow="hidden"},K=function(){var e,t,n,r,s,o,u,f,l,c,h,p=i.clientHeight,d=Nt();for(f=0,l=ut.length;l>f;f++)for(e=ut[f],t=e.element,n=e.anchorTarget,r=e.keyFrames,s=0,o=r.length;o>s;s++)u=r[s],c=u.offset,h=d[u.constant]||0,u.frame=c,u.isPercentage&&(c*=p,u.frame=c),"relative"===u.mode&&(it(t),u.frame=ot.relativeToAbsolute(n,u.anchors[0],u.anchors[1])-c,it(t,!0)),u.frame+=h,lt&&!u.isEnd&&u.frame>Dt&&(Dt=u.frame);for(Dt=a.max(Dt,Ct()),f=0,l=ut.length;l>f;f++){for(e=ut[f],r=e.keyFrames,s=0,o=r.length;o>s;s++)u=r[s],h=d[u.constant]||0,u.isEnd&&(u.frame=Dt-u.offset+h);e.keyFrames.sort(_t)}},Q=function(e,t){for(var n=0,r=ut.length;r>n;n++){var i,s,a=ut[n],f=a.element,l=a.smoothScrolling?e:t,c=a.keyFrames,h=c[0].frame,p=c[c.length-1].frame,y=h>l,b=l>p,w=c[y?0:c.length-1];if(y||b){if(y&&-1===a.edge||b&&1===a.edge)continue;switch(Lt(f,[y?v:g],[v,m,g]),a.edge=y?-1:1,a.edgeStrategy){case"reset":it(f);continue;case"ease":l=w.frame;break;default:case"set":var E=w.props;for(i in E)u.call(E,i)&&(s=rt(E[i].value),o.setStyle(f,i,s));continue}}else 0!==a.edge&&(Lt(f,[d,m],[v,g]),a.edge=0);for(var S=0,x=c.length-1;x>S;S++)if(l>=c[S].frame&&c[S+1].frame>=l){var T=c[S],N=c[S+1];for(i in T.props)if(u.call(T.props,i)){var C=(l-T.frame)/(N.frame-T.frame);C=T.props[i].easing(C),s=nt(T.props[i].value,N.props[i].value,C),s=rt(s),o.setStyle(f,i,s)}break}}},G=function(){qt&&(qt=!1,Tt());var e,t,r=ot.getScrollTop(),i=Mt();if(pt)i>=pt.endTime?(r=pt.targetTop,e=pt.done,pt=n):(t=pt.easing((i-pt.startTime)/pt.duration),r=0|pt.startTop+t*pt.topDiff),ot.setScrollTop(r,!0);else if(!gt){var s=mt.targetTop-r;s&&(mt={startTop:Bt,topDiff:r-Bt,targetTop:r,startTime:jt,endTime:jt+vt}),mt.endTime>=i&&(t=$.sqrt((i-mt.startTime)/vt),r=0|mt.startTop+t*mt.topDiff)}if(Ut&&at&&o.setStyle(at,"transform","translate(0, "+ -zt+"px) "+bt),gt||Bt!==r){Ht=r>Bt?"down":Bt>r?"up":Ht,gt=!1;var u={curTop:r,lastTop:Bt,maxTop:Dt,direction:Ht},a=ft.beforerender&&ft.beforerender.call(ot,u);a!==!1&&(Q(r,ot.getScrollTop()),Bt=r,ft.render&&ft.render.call(ot,u)),e&&e.call(ot,!1)}jt=i},Y=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,i,s,o,u=e.keyFrames[t],a={};null!==(o=P.exec(u.props));)s=o[1],i=o[2],r=s.match(H),null!==r?(s=r[1],r=r[2]):r=S,i=i.indexOf("!")?Z(i):[i.slice(1)],a[s]={value:i,easing:$[r]};u.props=a}},Z=function(e){var t=[];return q.lastIndex=0,e=e.replace(q,function(e){return e.replace(F,function(e){return 100*(e/255)+"%"})}),z&&(R.lastIndex=0,e=e.replace(R,function(e){return z+e})),e=e.replace(F,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},et=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)tt(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)tt(e.keyFrames[t],r)},tt=function(e,t){var n;for(n in t)u.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},nt=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var s=[e[0]];for(r=1;i>r;r++)s[r]=e[r]+(t[r]-e[r])*n;return s},rt=function(e){var t=1;return I.lastIndex=0,e[0].replace(I,function(){return e[t++]})},it=function(e,t){e=[].concat(e);for(var n,r,i=0,s=e.length;s>i;i++)r=e[i],n=ut[r[O]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,Lt(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=kt(r),r.style.cssText=n.styleAttr,Lt(r,n.classAttr)))},st=function(){bt="translateZ(0)",o.setStyle(at,"transform",bt);var e=f(at),t=e.getPropertyValue("transform"),n=e.getPropertyValue(z+"transform"),r=t&&"none"!==t||n&&"none"!==n;r||(bt="")};o.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(B,j).replace("-",""),"zIndex"===t)r[t]=isNaN(n)?n:""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{U&&(r[U+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(i){}};var ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et=o.addEvent=function(t,n,r){var i=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),r.call(this,t)};n=n.split(" ");for(var s,o=0,u=n.length;u>o;o++)s=n[o],t.addEventListener?t.addEventListener(s,r,!1):t.attachEvent("on"+s,i),Wt.push({element:t,name:s,listener:r})},St=o.removeEvent=function(e,t,n){t=t.split(" ");for(var r=0,i=t.length;i>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},xt=function(){for(var e,t=0,n=Wt.length;n>t;t++)e=Wt[t],St(e.element,e.name,e.listener);Wt=[]},Tt=function(){var e=ot.getScrollTop();Dt=0,lt&&!Ut&&(s.style.height="auto"),K(),lt&&!Ut&&(s.style.height=Dt+i.clientHeight+"px"),Ut?ot.setScrollTop(a.min(ot.getScrollTop(),Dt)):ot.setScrollTop(e,!0),gt=!0},Nt=function(){var e,t,n=i.clientHeight,r={};for(e in ct)t=ct[e],"function"==typeof t?t=t.call(ot):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),r[e]=t;return r},Ct=function(){var e=at&&at.offsetHeight||0,t=a.max(e,s.scrollHeight,s.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight);return t-i.clientHeight},kt=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},Lt=function(t,r,i){var s="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[s],s="baseVal"),i===n)return t[s]=r,n;for(var o=t[s],u=0,a=i.length;a>u;u++)o=Ot(o).replace(Ot(i[u])," ");o=At(o);for(var f=0,l=r.length;l>f;f++)-1===Ot(o).indexOf(Ot(r[f]))&&(o+=" "+r[f]);t[s]=At(o)},At=function(e){return e.replace(_,"")},Ot=function(e){return" "+e+" "},Mt=Date.now||function(){return+(new Date)},_t=function(e,t){return e.frame-t.frame},Dt=0,Pt=1,Ht="down",Bt=-1,jt=Mt(),Ft=0,It=0,qt=!1,Rt=0,Ut=!1,zt=0,Wt=[]})(window,document);$(document).ready(function(){var e=skrollr.init()});var disqus_shortname="ponydevs";(function(){var e=document.createElement("script");e.async=!0;e.type="text/javascript";e.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(e)})();